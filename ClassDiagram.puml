@startuml
title Class Diagram - Sistem Simore (Backend)

package "Backend System (Node.js)" {
    
    class IotController {
        +receiveSensorData(req, res)
        +checkGhostBooking()
        -updateRoomStatus(roomId, status)
    }

    class BookingController {
        +createReservation(req, res)
        +getDailySchedule(req, res)
        +cancelBooking(id)
    }

    class RoomModel {
        +id: Integer
        +name: String
        +status: ENUM('AVAILABLE', 'OCCUPIED')
        +last_motion_detected: DateTime
        +save()
        +findOne()
    }

    class LogModel {
        +id: Integer
        +room_id: Integer
        +motion_detected: Boolean
        +timestamp: DateTime
        +create()
    }

    IotController ..> RoomModel : updates
    IotController ..> LogModel : creates
    BookingController ..> RoomModel : checks availability
}

@enduml