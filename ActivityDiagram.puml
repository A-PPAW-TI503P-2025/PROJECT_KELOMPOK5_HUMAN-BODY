@startuml
title Activity Diagram - Sistem Simore (Motion Only)

|Sensor IoT (ESP32)|
start
:Deteksi Gerakan (PIR);
:Kirim Data Gerakan ke Server;

|Server (Backend)|
:Terima Data Sensor;
:Cek Status Reservasi di Database;

if (Data Valid / Perubahan Status?) then (Ya)
    :Update Status Room\n(Occupied/Available);
    :Simpan Log History;
else (Tidak)
    :Abaikan Data;
endif

|Dashboard Admin (React)|
:Auto-Refresh Tampilan\n(Polling/Socket);

if (Status Room == OCCUPIED?) then (Ya)
    :Update Warna Indikator (MERAH);
else (TIDAK)
    if (Status == AVAILABLE?) then (Ya)
        :Update Warna Indikator (HIJAU);
        :Tampilkan Notifikasi "Siap Bersih";
    else (GHOST BOOKING)
        :Tampilkan Alert (UNGU);
    endif
endif

stop
@enduml